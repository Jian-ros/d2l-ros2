
### ROS镇长的传奇故事

#### 1 统一方言

从前在一个大山里，有五个村庄，这五个村庄每个村庄有自己的方言。不同村庄的村民们互相沟通就是非常复杂的一件事，首先要找到一个能同时会两个方言的翻译官，才能互相沟通。

后来五个村子合并成了一个镇，来了个叫ROS的镇长，一看这多影响平时交流呀，就开始推行普通话。后来又有很多村子迁入这个镇，因为语言统一，大家互相交流起来都很方便。

方言统一了之后，沟通方便了，镇子里就兴起了三个行业，第一个行业是报业，专门卖报纸的。第二个行业是外卖业，专门送外卖。

#### 2 王二订报

ROS镇长给报业制定了一种订报机制，叫做话题（Topic），并且开设了一个报务科去管理这个事：
村民王二单身多年，最喜欢看的就是村民李四写的《艳娘传奇》这个杂志。

单身狗王二（Subscriber）想要看这个《艳娘传奇》（Topic-Name）这个杂志，首先要去报务科去告诉科长，我要定《艳娘传奇》，科长会留下王二的联系方式并写在手册上。但李四（Publisher）更新总是不定时，但他一更新就会把杂志送到镇上报务科去，报务科有一个手册，里面写着订阅《艳娘传奇》的村民名单。科长看到谁定了，就会把杂志复印一份让邮差给谁（Node）送过去。

![image-20210717153837468](1.3课外阅读_ROS镇长与艳娘传奇/imgs/image-20210717153837468.png)


##### 杂志=话题

看完上面的内容，我们来总结一下，上面其实讲了一下ROS中Topic和Service两种非常重要的通信方式。Topic是一种发布订阅模型，订阅者（王二）需要通过话题（艳娘传奇）到Master节点（科长）来订阅发布者（李四）的发布。这里讲的还是一对一（一个发布者，一个订阅者）的模型，真实的ROS中其实可以1对n，n对1,n对n的。

并且满足以下规则：

- 话题名字是关键，订阅者必须要订阅的话题的名称才能完成订阅;
- 同一个人可以订阅多个话题，同时也可以发布多个话题，就像一本书的作者也可以是另外一本书的读者;
- 同一个杂志不能有多个作者，但同一个话题可以有多个发布者。


#### 3 李四叫外卖

李四为了专心写杂志，每天窝在家里不出去，吃饭全靠叫外卖。镇里叫外卖比较原始，是靠写信定的，想要叫外卖先写一封信(request)，写清楚菜名和菜馆名，然后通过外卖小哥（service）进行送信，小哥将信送到镇上对应的某个菜馆(service端)，镇上菜馆做好菜（response），然后让外卖小哥带回去，这时候李四(client端)才能吃上外卖。

![image-20210717153854839](1.3课外阅读_ROS镇长与艳娘传奇/imgs/image-20210717153854839.png)


##### 外卖=服务

李四是服务的客户端，菜馆是服务端，客户端（李四）通过发送一个request（一封信）给服务端（菜馆），服务端根据信里的内容进行处理后，让外卖小哥把菜（response）将送回去。

服务满足以下规则：

- 请求者必须知道服务名和可服务类型，就像李四知道菜馆名和菜名一样
- 请求者在返回之前，无法或者服务端处理的进度。就像李四在菜到之前并不知道外卖小哥有没有偷换了自己的菜
- 每一个节点可以提供多个服务，也可以请求多个服务。这点和餐馆不太一样


### 3 ROS镇长的中央集权

ROS小镇在ROS镇长的治理下，变得非常的繁华，但是ROS镇长是一个人非常有控制欲的一个人，到什么程度呢？如果ROS镇长不在，报务科和外卖小哥就不能营业，村民就不允许互相分享杂志（话题通信）、叫外卖了（服务通信）。

初次之外，村里来的每一个人也都需要到ROS镇长的人口管理科注册登记才能成为一个合法的村民，平时也受ROS镇长的管理。

总结一下：
ROS镇长和其下属的科，其实就是ROS中的主节点，这个是ROS1才有的机制。同时节点之间的topic和service通信，也都需要主节点牵线搭桥。



### 4 ROS镇长完善制度

故事待更新.....请持续关注



### 5 子承父位，ROS镇上安享晚年

故事待更新.....请持续关注



### 6 ROS2镇长的改革故事

故事待更新.....请持续关注





### 写在最后

**我是小智，机器人领域资深玩家，现深圳某独脚兽机器人算法工程师一枚**

**初中学习编程，高中开始学习机器人，大学期间打机器人相关比赛实现月入2W+（比赛奖金）**

**目前在输出机器人学习指南、论文注解、工作经验，欢迎大家关注小智，一起交流技术，学习机器人**



![在这里插入图片描述](https://img-blog.csdnimg.cn/20210714103924121.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3ODY1MjI3,size_16,color_FFFFFF,t_70#pic_center)